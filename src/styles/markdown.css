.prose img {
  @apply w-full;
}

.prose p {
  line-height: 1.55 !important;
}

.prose ul,
.prose li p {
  @apply !m-0;
}

.prose a {
  @apply no-underline hover:underline text-c-active font-normal;
}

.prose hr {
  @apply border-t border-c;
}

main:not(.post) a.header-anchor {
  @apply hidden;
}

/** KaTeX **/

.prose .katex-display {
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
}

.prose .katex {
  font-size: 1.1em;
}

/** Code blocks **/

.prose div[class*=language-] {
  @apply relative border border-c-dark pt-6 rounded-md;
}

.prose div[class*=language-]::before {
  @apply content-[""] absolute w-2.5 h-2.5 top-3.5 left-4 rounded-full bg-[#fd5f57];
  box-shadow: 16px 0 0 0 #febb2f, 32px 0 0 0 #2ec841;
}

.prose div[class*=language-] > span.lang {
  @apply absolute top-2.5 right-3 text-sm opacity-60;
}

.prose .shiki {
  @apply !bg-transparent p-4 m-0 leading-6 text-[0.925em];
}

.prose .shiki code {
  @apply block w-fit min-w-full;
}

.prose .shiki code > span.highlighted {
  @apply -mx-4 px-4 inline-block;
  width: calc(100% + 2 * 16px);
}

.prose .shiki-light code > span.highlighted {
  @apply bg-gray-200;
}

.prose .shiki-dark code > span.highlighted {
  @apply bg-gray-800;
}

html.dark .prose .shiki-light {
  @apply hidden;
}

html:not(.dark) .prose .shiki-dark {
  @apply hidden;
}
