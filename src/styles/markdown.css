.prose p {
  line-height: 1.55 !important;
}

.prose ul,
.prose li p {
  @apply !m-0;
}

.prose a {
  @apply no-underline hover:underline text-c-active font-normal;
}

.prose img,
.prose video {
  @apply mx-auto my-2;
}

.prose figure figcaption {
  @apply text-sm text-c-light;
}

.prose hr {
  /* border-c */
  border-top: 1px solid #e5e7eb;
}

html.dark .prose hr {
  /* border-c */
  border-top: 1px solid #4b5563;
}

.prose hr.footnotes-sep {
  @apply hidden;
}

main:not(.post) a.header-anchor {
  @apply hidden;
}

/** Table **/

.prose tr {
  @apply border-t border-c-dark;
}

.prose tr:last-child {
  @apply border-b;
}

/** KaTeX **/

.prose .katex-display {
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
}

.prose .katex {
  font-size: 1.1em;
}

/** Code blocks **/

html.dark .prose .shiki-light {
  @apply hidden;
}

html:not(.dark) .prose .shiki-dark {
  @apply hidden;
}

.prose div[class*=language-] {
  @apply relative my-2 border border-c-dark pt-6 rounded-md;
}

.prose div[class*=language-]::before {
  @apply content-[""] absolute w-2.5 h-2.5 top-3.5 left-4 rounded-full bg-[#fd5f57];
  box-shadow: 16px 0 0 0 #febb2f, 32px 0 0 0 #2ec841;
}

.prose div[class*=language-] > span.lang {
  @apply absolute top-2.5 right-3 text-sm opacity-60;
}

.prose .shiki {
  @apply !bg-transparent p-4 m-0 leading-6 text-[0.925em];
}

.prose .shiki code {
  @apply block w-fit min-w-full;
}

.prose .shiki code > span.highlighted {
  @apply -mx-4 px-4 inline-block;
  width: calc(100% + 2 * 16px);
}

.prose .shiki-light code > span.highlighted {
  @apply bg-slate-100;
}

.prose .shiki-dark code > span.highlighted {
  @apply bg-slate-600;
}

/** Containers **/

.prose .custom-block {
  @apply border rounded-md px-4 py-0 my-6;
}

.prose .custom-block summary {
  @apply font-normal text-base;
}

.prose .custom-block.details {
  @apply border-c-dark py-4;
}

.prose .custom-block.info {
  @apply border-blue-600 dark:border-sky-400;
}

.prose .custom-block.info .custom-block-title {
  @apply text-blue-600 dark:text-sky-400;
}

.prose .custom-block.tip {
  @apply border-green-600 dark:border-lime-500;
}

.prose .custom-block.tip .custom-block-title {
  @apply text-green-600 dark:text-lime-500;
}

.prose .custom-block.warning {
  @apply border-amber-600 dark:border-amber-500;
}

.prose .custom-block.warning .custom-block-title {
  @apply text-amber-600 dark:text-amber-500;
}

.prose .custom-block.danger {
  @apply border-red-600 dark:border-red-400;
}

.prose .custom-block.danger .custom-block-title {
  @apply text-red-600 dark:text-red-400;
}
